<div class="container">
  <div *ngIf="!booked" class="booking">
    <form [formGroup]="newAppointmentForm" (ngSubmit)="onSubmit()">
      <mat-form-field>
        <mat-label>Elija el profesional</mat-label>
        <mat-select formControlName="user" >
          <mat-option *ngFor="let prof of profs" value="{{prof.uid}}" (onSelectionChange)="getProf(prof.uid); profPicked = true">{{prof.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Selecciona una fecha</mat-label>
        <input matInput [matDatepicker]="date" formControlName="date" [disabled]="!profPicked" (dateChange)="getAppDay($event.value, prof.profId); datePicked = true" >
        <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
        <mat-datepicker #date></mat-datepicker>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Horario</mat-label>
        <mat-select #hour formControlName="time" [disabled]="!datePicked">
          <mat-option  value="{{hour}}" *ngFor="let hour of hours">{{hour}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Comentarios (Opcional)</mat-label>
        <textarea matInput formControlName="comment"></textarea>
      </mat-form-field>
      <button [disabled]="!newAppointmentForm.valid" type="submit" mat-raised-button>Agendar!</button>
    </form>
  </div>
  <div *ngIf="booked" class="booked">
    <h1>Turno reservado , muchas gracias!</h1>
  </div>
  <app-back-button [link]="'/client'"></app-back-button>
</div>
